<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:;">
  <title>Allinone</title>
  <link rel="stylesheet" href="renderer/styles/main.css">
</head>

<body>
  <div id="app">
    <!-- Custom Title Bar -->
    <header class="title-bar">
      <div class="title-bar-drag">
        <div class="app-logo">
          <img src="assets/icon.png" width="24" height="24" style="border-radius: 50%;">
          <span class="app-name">Allinone</span>
        </div>
      </div>
      <div class="title-bar-controls">
        <button id="btn-minimize" class="title-btn" title="Minimize">
          <svg width="12" height="12" viewBox="0 0 12 12">
            <rect y="5" width="12" height="2" fill="currentColor" />
          </svg>
        </button>
        <button id="btn-maximize" class="title-btn" title="Maximize">
          <svg width="12" height="12" viewBox="0 0 12 12">
            <rect x="1" y="1" width="10" height="10" stroke="currentColor" stroke-width="2" fill="none" />
          </svg>
        </button>
        <button id="btn-close" class="title-btn close" title="Close">
          <svg width="12" height="12" viewBox="0 0 12 12">
            <path d="M1 1L11 11M1 11L11 1" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
          </svg>
        </button>
      </div>
    </header>

    <!-- Main Layout -->
    <main class="main-layout">
      <!-- Sidebar -->
      <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
          <div class="search-container">
            <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
              stroke-width="2">
              <circle cx="11" cy="11" r="8" />
              <path d="M21 21l-4.35-4.35" />
            </svg>
            <input type="text" id="search-input" class="search-input" placeholder="Search tools...">
          </div>
          <button id="btn-toggle-sidebar" class="sidebar-toggle" title="Collapse sidebar">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M15 18l-6-6 6-6" />
            </svg>
          </button>
        </div>

        <nav class="sidebar-nav" id="sidebar-nav">
          <!-- Categories will be populated by JavaScript -->
        </nav>

        <div class="sidebar-footer">
          <button id="btn-add-tool" class="btn-add-tool">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M12 5v14M5 12h14" />
            </svg>
            <span>Add Custom Tool</span>
          </button>
          <button id="btn-notepad" class="btn-notepad">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
              <path d="M14 2v6h6M16 13H8M16 17H8M10 9H8" />
            </svg>
            <span>Notepad</span>
          </button>
          <button id="btn-compare-llm" class="btn-compare-llm">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="7" height="7" />
              <rect x="14" y="3" width="7" height="7" />
              <rect x="3" y="14" width="7" height="7" />
              <rect x="14" y="14" width="7" height="7" />
            </svg>
            <span>Compare LLMs</span>
          </button>
        </div>
      </aside>

      <!-- Webview Container -->
      <section id="webview-container" class="webview-container">
        <!-- Home Screen -->
        <div id="home-screen" class="home-screen">
          <div class="home-content">
            <div class="home-hero">
              <div class="hero-icon">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
                  <circle cx="12" cy="12" r="10" stroke="url(#heroGrad)" stroke-width="1.5" />
                  <path d="M8 12L11 15L16 9" stroke="url(#heroGrad)" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
                  <defs>
                    <linearGradient id="heroGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                      <stop offset="0%" style="stop-color:#6366f1" />
                      <stop offset="100%" style="stop-color:#8b5cf6" />
                    </linearGradient>
                  </defs>
                </svg>
              </div>
              <h1 class="hero-title">Welcome to Allinone</h1>
              <p class="hero-subtitle">Your curated collection of AI tools and utilities</p>
              <div class="trust-badge">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
                  <path d="M9 12l2 2 4-4" />
                </svg>
                <span>Manually searched, tested, and curated by the creator.</span>
              </div>
            </div>

            <div class="quick-access">
              <h3 class="quick-access-title">Quick Access</h3>
              <div id="quick-access-grid" class="quick-access-grid">
                <!-- Quick access tools populated by JS -->
              </div>
            </div>
          </div>
        </div>

        <!-- LLM Comparison Mode -->
        <div id="comparison-mode" class="comparison-mode hidden">
          <div class="comparison-header">
            <h2 class="comparison-title">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="7" height="7" />
                <rect x="14" y="3" width="7" height="7" />
                <rect x="3" y="14" width="7" height="7" />
                <rect x="14" y="14" width="7" height="7" />
              </svg>
              LLM Comparison â€“ Desktop, Manual & Privacy-Friendly
            </h2>
            <div class="comparison-header-actions">
              <div class="llm-selector-header">
                <span class="selector-label">Select LLMs (up to 5):</span>
                <div id="llm-checkboxes" class="llm-checkboxes">
                  <!-- LLM checkboxes populated by JS -->
                </div>
              </div>
              <button id="btn-exit-comparison" class="btn-exit-comparison">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M18 6L6 18M6 6l12 12" />
                </svg>
                Exit
              </button>
            </div>
          </div>

          <!-- Webviews Area (TOP) -->
          <div id="comparison-webviews" class="comparison-webviews">
            <!-- Webviews populated by JS -->
          </div>

          <!-- Sticky Input Bar (BOTTOM) -->
          <div class="comparison-input-bar">
            <div class="input-bar-hint">
              ðŸ’¡ Tip: If auto-send fails for an LLM, type directly in that panel. Login pages open in your browser.
            </div>
            <div class="input-bar-container">
              <!-- Attachments removed -->
              <textarea id="comparison-input" class="comparison-input-field"
                placeholder="Type your message and press Enter or click Send..." rows="1"></textarea>
              <button id="btn-compare" class="btn-compare" title="Send to all selected LLMs">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" />
                </svg>
                <span>Send</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Single Tool Webview -->
        <div id="single-webview" class="single-webview hidden">
          <div class="webview-loading" id="webview-loading">
            <div class="loading-spinner"></div>
            <span>Loading...</span>
          </div>
          <webview id="main-webview" class="main-webview" partition="persist:allinone" allowpopups
            webpreferences="contextIsolation=no, nodeIntegration=no, javascript=yes"></webview>
        </div>

        <!-- Notepad View -->
        <div id="notepad-view" class="notepad-view hidden">
          <div class="notepad-layout">
            <!-- Notes List Sidebar -->
            <div class="notepad-sidebar">
              <div class="notepad-sidebar-header">
                <h3>Notes</h3>
                <button id="btn-new-note" class="btn-new-note" title="New Note">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12h14" />
                  </svg>
                </button>
              </div>
              <div class="notepad-search">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="11" cy="11" r="8" />
                  <path d="M21 21l-4.35-4.35" />
                </svg>
                <input type="text" id="notes-search" placeholder="Search notes...">
              </div>
              <div id="notes-list" class="notes-list">
                <!-- Notes populated by JS -->
              </div>
            </div>

            <!-- Note Editor Area -->
            <div class="notepad-editor">
              <div class="notepad-editor-header">
                <input type="text" id="note-title" class="note-title-input" placeholder="Note title...">
                <div class="note-meta">
                  <span id="note-timestamp" class="note-timestamp"></span>
                  <button id="btn-delete-note" class="btn-delete-note" title="Delete Note">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" />
                    </svg>
                  </button>
                </div>
              </div>

              <!-- Formatting Toolbar -->
              <div class="notepad-toolbar">
                <button class="toolbar-btn" data-format="bold" title="Bold (Ctrl+B)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 4h8a4 4 0 014 4 4 4 0 01-4 4H6z" />
                    <path d="M6 12h9a4 4 0 014 4 4 4 0 01-4 4H6z" />
                  </svg>
                </button>
                <button class="toolbar-btn" data-format="italic" title="Italic (Ctrl+I)">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="19" y1="4" x2="10" y2="4" />
                    <line x1="14" y1="20" x2="5" y2="20" />
                    <line x1="15" y1="4" x2="9" y2="20" />
                  </svg>
                </button>
                <button class="toolbar-btn" data-format="heading" title="Heading">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 4v16M18 4v16M6 12h12" />
                  </svg>
                </button>
                <div class="toolbar-divider"></div>
                <button class="toolbar-btn" data-format="ul" title="Bullet List">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="8" y1="6" x2="21" y2="6" />
                    <line x1="8" y1="12" x2="21" y2="12" />
                    <line x1="8" y1="18" x2="21" y2="18" />
                    <circle cx="4" cy="6" r="1" fill="currentColor" />
                    <circle cx="4" cy="12" r="1" fill="currentColor" />
                    <circle cx="4" cy="18" r="1" fill="currentColor" />
                  </svg>
                </button>
                <button class="toolbar-btn" data-format="ol" title="Numbered List">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="10" y1="6" x2="21" y2="6" />
                    <line x1="10" y1="12" x2="21" y2="12" />
                    <line x1="10" y1="18" x2="21" y2="18" />
                    <text x="4" y="8" font-size="8" fill="currentColor">1</text>
                    <text x="4" y="14" font-size="8" fill="currentColor">2</text>
                    <text x="4" y="20" font-size="8" fill="currentColor">3</text>
                  </svg>
                </button>
                <button class="toolbar-btn" data-format="code" title="Code Block">
                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="16 18 22 12 16 6" />
                    <polyline points="8 6 2 12 8 18" />
                  </svg>
                </button>
              </div>

              <!-- Editor Content -->
              <div id="note-content" class="note-content" contenteditable="true" placeholder="Start writing..."></div>

              <div class="notepad-status">
                <span id="note-status" class="note-status-text">Ready</span>
              </div>
            </div>
          </div>

          <!-- Close Notepad Button -->
          <button id="btn-close-notepad" class="btn-close-notepad" title="Close Notepad">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 6L6 18M6 6l12 12" />
            </svg>
          </button>
        </div>
      </section>

      <!-- Inspector Panel -->
      <aside id="inspector" class="inspector">
        <div class="inspector-header">
          <h3 class="inspector-title">Tool Info</h3>
          <button id="btn-toggle-inspector" class="inspector-toggle" title="Close inspector">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 6L6 18M6 6l12 12" />
            </svg>
          </button>
        </div>

        <div id="inspector-content" class="inspector-content">
          <div class="inspector-empty">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
              <circle cx="12" cy="12" r="10" />
              <path d="M12 16v-4M12 8h.01" />
            </svg>
            <p>Select a tool to view details</p>
          </div>
        </div>
      </aside>
    </main>

    <!-- Add Tool Modal -->
    <div id="add-tool-modal" class="modal hidden">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3>Add Custom Tool</h3>
          <button id="btn-close-modal" class="btn-close-modal">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 6L6 18M6 6l12 12" />
            </svg>
          </button>
        </div>
        <form id="add-tool-form" class="modal-form">
          <div class="form-group">
            <label for="tool-name">Tool Name</label>
            <input type="text" id="tool-name" required placeholder="My Favorite Tool">
          </div>
          <div class="form-group">
            <label for="tool-url">Website URL</label>
            <input type="url" id="tool-url" required placeholder="https://example.com">
          </div>
          <div class="form-group">
            <label for="tool-category">Category</label>
            <select id="tool-category">
              <option value="Custom">Custom</option>
            </select>
          </div>
          <div class="form-group">
            <label for="tool-description">Description (optional)</label>
            <input type="text" id="tool-description" placeholder="Brief description">
          </div>
          <div class="modal-actions">
            <button type="button" id="btn-cancel-add" class="btn-secondary">Cancel</button>
            <button type="submit" class="btn-primary">Add Tool</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="renderer/data/tools.js"></script>
  <script src="renderer/index.js"></script>
</body>

</html>